# 多设备同步

MoryFlow 的笔记就是普通文件夹，用云盘就能在多个设备间同步。

## 同步原理

MoryFlow 的笔记都是**普通的 Markdown 文件**，存在你指定的文件夹里。

只要把这个文件夹放在云盘同步目录里，就能自动同步到其他设备。

```
云盘同步目录/
└── 我的笔记/     ← 这就是你的笔记文件夹
    ├── 工作/
    ├── 学习/
    └── ...
```

## 推荐方案

### macOS + iOS：iCloud

**怎么设置：**

1. 在 Mac 上，把笔记文件夹放在 iCloud Drive 里：
   ```
   ~/Library/Mobile Documents/com~apple~CloudDocs/我的笔记
   ```

2. 或者用 iCloud Drive 文件夹的自定义路径

3. MoryFlow 里选这个目录作为笔记文件夹

**优点：**
- Apple 生态无缝衔接
- 同步稳定快速
- 不用装额外软件

**注意：**
- 大文件可能同步慢
- 确保 iCloud 空间够

### Windows：OneDrive

**怎么设置：**

1. 把笔记文件夹放在 OneDrive 目录：
   ```
   C:\Users\用户名\OneDrive\我的笔记
   ```

2. MoryFlow 里选这个目录

**优点：**
- Windows 原生集成
- 和 Office 配合好

### 跨平台：坚果云

**怎么设置：**

1. 装坚果云客户端
2. 把笔记文件夹放在坚果云同步目录
3. MoryFlow 里选这个目录

**优点：**
- 跨平台支持好
- 国内访问稳定
- 支持 WebDAV

### 跨平台：Dropbox

**怎么设置：**

1. 装 Dropbox 客户端
2. 把笔记文件夹放在 Dropbox 目录
3. MoryFlow 里选这个目录

**优点：**
- 跨平台支持
- 同步稳定

**注意：**
- 国内访问可能需要特殊网络

## 同步设置建议

### 避免冲突

在多台设备上同时编辑同一个文件可能会冲突。

**怎么预防：**

1. **编辑前等同步完**
   - 打开 MoryFlow 后，等几秒让文件同步

2. **别同时编辑**
   - 在一台设备上编辑完，等同步后再在另一台设备上编辑

3. **编辑不同的文件**
   - 在不同设备上编辑不同的笔记

### 冲突了怎么办

冲突了的话，云盘通常会：
- 保留两个版本
- 生成带"冲突"标记的副本

**怎么解决：**
1. 比较两个文件的内容
2. 手动合并需要的内容
3. 删掉冲突副本

## 注意事项

### 首次同步

第一次设置时，等所有文件同步完再开始用。

### 文件很多的时候

如果文件很多或有大文件：
- 首次同步可能要等一会儿
- 可以用选择性同步，排除不需要的

### 附件文件

如果笔记里有图片等附件：
- 确保附件也在同步范围内
- 大附件可能影响同步速度

### 配置文件

MoryFlow 的配置（API Key 等）存在应用数据目录，**不会**随笔记文件夹同步。

每台设备要单独配置：
- API Key
- 主题设置
- 其他偏好

## 方案对比

| 方案 | 平台 | 优点 | 缺点 |
|------|------|------|------|
| iCloud | Apple | 原生集成 | 只能 Apple 设备 |
| OneDrive | 主要 Windows | Windows 原生 | Mac 体验一般 |
| 坚果云 | 全平台 | 国内稳定 | 免费空间有限 |
| Dropbox | 全平台 | 稳定可靠 | 国内访问问题 |
| Google Drive | 全平台 | 空间大 | 国内访问问题 |

## 高级方案

### Git 同步

如果你会 Git，可以用 Git 管理笔记：

**优点：**
- 完整版本历史
- 更好的冲突处理
- 可以回退到任意版本

**设置：**
```bash
cd /path/to/notes
git init
git remote add origin <你的仓库地址>
```

**使用：**
```bash
# 同步前
git pull

# 同步后
git add .
git commit -m "update notes"
git push
```

### Syncthing

去中心化的同步方案：

- 不依赖云服务
- 设备间直接同步
- 完全掌控数据

适合：对隐私有极高要求的用户

## 常见问题

### 同步后文件丢了

1. 看看云盘的回收站
2. 查有没有同步错误
3. 检查其他设备有没有副本

### 同步速度慢

1. 检查网络
2. 排除大文件
3. 减少文件数量

### 提示文件被占用

1. 确保 MoryFlow 没有在其他设备上打开同一个文件夹
2. 等同步完成后再操作
